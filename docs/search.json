[{"path":"https://ebabcock.github.io/PowerAfterChange/articles/NonNormalDistributionsAndTests.html","id":"shared-simulation-settings","dir":"Articles","previous_headings":"","what":"Shared simulation settings","title":"PowerAfterChange: Simulation Tests for Alternative Distributions and Tests","text":"","code":"set.seed(2026) S_demo <- 12 nB_demo <- 5 sd_w <- 1.5 sd_d <- 0.4 alpha <- 0.05 nsim <- 1500 n_grid <- 1:30"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/NonNormalDistributionsAndTests.html","id":"normal-distribution-tests","dir":"Articles","previous_headings":"","what":"Normal distribution tests","title":"PowerAfterChange: Simulation Tests for Alternative Distributions and Tests","text":"","code":"delta_target <- 0.8  res_normal_t <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 1,   distribution = \"normal\",   useTest = \"paired-t\" )  res_normal_w <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 2,   distribution = \"normal\",   useTest = \"wilcoxon\" )  normal_plot_df <- bind_rows(   res_normal_t$curve %>% mutate(method = \"paired-t\"),   res_normal_w$curve %>% mutate(method = \"wilcoxon\") )  ggplot(normal_plot_df, aes(x = n_after, y = power, color = method)) +   geom_line(size = 1) +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   labs(     title = \"Normal: Power vs After Samples\",     x = \"Number of After Samples per Site\",     y = \"Power\",     color = \"Test\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/NonNormalDistributionsAndTests.html","id":"negative-binomial-tests-log-additive-change","dir":"Articles","previous_headings":"","what":"Negative binomial tests (log-additive change)","title":"PowerAfterChange: Simulation Tests for Alternative Distributions and Tests","text":"","code":"nbinom_mu <- 12 nbinom_disp <- 2 delta_target_nb <- log(1.25)  # additive on log scale  res_nb_t <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target_nb, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 3,   distribution = \"nbinom\",   useTest = \"paired-t\",   nbinom_mu = nbinom_mu,   nbinom_disp = nbinom_disp )  res_nb_w <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target_nb, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 4,   distribution = \"nbinom\",   useTest = \"wilcoxon\",   nbinom_mu = nbinom_mu,   nbinom_disp = nbinom_disp )  nb_plot_df <- bind_rows(   res_nb_t$curve %>% mutate(method = \"paired-t\"),   res_nb_w$curve %>% mutate(method = \"wilcoxon\") )  ggplot(nb_plot_df, aes(x = n_after, y = power, color = method)) +   geom_line(size = 1) +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   labs(     title = \"Negative Binomial: Power vs After Samples\",     x = \"Number of After Samples per Site\",     y = \"Power\",     color = \"Test\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/NonNormalDistributionsAndTests.html","id":"binomial-tests-logit-additive-change","dir":"Articles","previous_headings":"","what":"Binomial tests (logit-additive change)","title":"PowerAfterChange: Simulation Tests for Alternative Distributions and Tests","text":"","code":"binomial_size <- 20 binomial_prob <- 0.35 delta_target_bin <- qlogis(0.45) - qlogis(binomial_prob)  res_bin_t <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target_bin, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 5,   distribution = \"binomial\",   useTest = \"paired-t\",   binomial_size = binomial_size,   binomial_prob = binomial_prob )  res_bin_w <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target_bin, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 6,   distribution = \"binomial\",   useTest = \"wilcoxon\",   binomial_size = binomial_size,   binomial_prob = binomial_prob )  res_bin_prop <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target_bin, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha, n_grid = n_grid,   nsim = nsim, seed = 7,   distribution = \"binomial\",   useTest = \"prop.test\",   binomial_size = binomial_size,   binomial_prob = binomial_prob )  bin_plot_df <- bind_rows(   res_bin_t$curve %>% mutate(method = \"paired-t\"),   res_bin_w$curve %>% mutate(method = \"wilcoxon\"),   res_bin_prop$curve %>% mutate(method = \"prop.test\") )  ggplot(bin_plot_df, aes(x = n_after, y = power, color = method)) +   geom_line(size = 1) +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   labs(     title = \"Binomial: Power vs After Samples\",     x = \"Number of After Samples per Site\",     y = \"Power\",     color = \"Test\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/NonNormalDistributionsAndTests.html","id":"sanity-checks-for-power_for_sites","dir":"Articles","previous_headings":"","what":"Sanity checks for power_for_sites","title":"PowerAfterChange: Simulation Tests for Alternative Distributions and Tests","text":"","code":"site_res_normal <- find_min_sites(   nB = nB_demo, nA = 5,   delta = delta_target, sd_w = sd_w, sd_d = sd_d,   target_power = 0.8, alpha = alpha,   S_grid = 2:30, nsim = nsim, seed = 11,   distribution = \"normal\",   useTest = \"paired-t\" )  ggplot(site_res_normal$curve, aes(x = S, y = power)) +   geom_line() +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   geom_vline(xintercept = site_res_normal$S_star, linetype = \"dashed\", color = \"blue\") +   labs(title = \"Normal: Power Curve for Number of Sites\",        x = \"Number of Sites\",        y = \"Power\")"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/NonNormalDistributionsAndTests.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"PowerAfterChange: Simulation Tests for Alternative Distributions and Tests","text":"plots demonstrate updated functions work across supported distributions tests, using plotting style original UserGuide vignette.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"simulate-some-data","dir":"Articles","previous_headings":"","what":"Simulate some data","title":"User guide for power after change","text":"","code":"set.seed(123) #for reproducibility S_demo <- 12 #Number of sites nB_demo <- 5 #Number of before samples per site sd_within <- 2 #within-site standard deviation sd_between <- 1 #between-site standard deviation before_mean <- 10 #overall mean before change #simulate site to site variability siteMean <- rnorm(S_demo, mean = before_mean, sd = sd_between) #Generate baseline data (before change) baseline_demo <- data.frame(   site = rep(1:S_demo, each = nB_demo)) %>%   mutate(y = rnorm(S_demo * nB_demo, mean = siteMean[site], sd = sd_within))"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"estimate-within-site-sd","dir":"Articles","previous_headings":"","what":"Estimate within-site SD","title":"User guide for power after change","text":"need within-site standard deviation power sample size calculations. estimate baseline data. See getSD_within function PowerAfterFunctions code.","code":"sd_within_hat <-getSD_within(baseline = baseline_demo,                              siteVar = \"site\",                              responseVar = \"y\") sd_within_hat ## [1] 1.671255"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"planning-assumptions","dir":"Articles","previous_headings":"","what":"Planning assumptions","title":"User guide for power after change","text":"change want able detect sufficient power.","code":"delta_target <- 1  #change in the mean we want to detect sd_delta <- 0.5  #variability in true changes among sites"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"question-1-find-minimum-sites-given-before-and-after-number-known-sample-size","dir":"Articles","previous_headings":"","what":"(Question 1) Find minimum sites given before and after number known sample size","title":"User guide for power after change","text":"scenario, know many samples change, want know many sites needed achieve target power. equivalent paired t-test power calculation, simulation function power.t.test show equivalent calculate standard deviation difference correctly.  power curve shows power increases samples change. dashed red line indicates target power (0.8), dashed blue line indicates minimum number samples needed achieve power. Now, repeat calculation using standard power.t.test function comparison. standard deviation difference means per site calculated : sdif=(sdw2(1/nA+1/nB)+sdd2)s_{dif}=\\sqrt{(sd_w^2(1/n_A + 1/n_B) + sd_d^2}) combines: - Within-site variance measurements: sd_w^2/nA - Within-site variance measurements: sd_w^2/nB - -site variance true changes: sd_d^2 function getSD_difference makes calculation. can use power.t.test find number sites needed paired t-test. matches result simulation function find_min_sites. power curve.","code":"site_res <- find_min_sites(nB = nB_demo, nA = 5,                            delta = delta_target,                            sd_w = sd_within_hat, sd_d = sd_delta,                            target_power = 0.8, alpha = 0.05,                            S_grid = 2:40, nsim = 3000, seed = 42)  site_res$S_star ## [1] 13 # Plot power curve for sites ggplot(site_res$curve, aes(x = S, y = power)) +   geom_line() +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   geom_vline(xintercept = site_res$S_star, linetype = \"dashed\", color = \"blue\") +   labs(title = \"Power Curve for Number of Sites, known before and after samples\",        x = \"Number of Sites\",        y = \"Power\") sd_diff_hat <- getSD_difference(sd_within = sd_within_hat,                                  nA = 5,                                  nB = 5,                                  sd_delta = sd_delta) sd_diff_hat ## [1] 1.169289 power_result <- power.t.test(n = NULL,                               delta = delta_target,                               sd = sd_diff_hat,                               sig.level = 0.05,                               power = 0.8,                               type = \"paired\",                               alternative = \"two.sided\") power_result$n  #Number of sites needed ## [1] 12.78393 comparison_df <- data.frame(   n_sites = site_res$curve$S,   power_analytical = find_min_sites_analytical(S_grid = site_res$curve$S,                                                      delta_target = delta_target,                                                      sd_diff = sd_diff_hat),   power_simulation = site_res$curve$power )  # Plot comparison ggplot(comparison_df, aes(x = n_sites)) +   geom_line(aes(y = power_analytical, color = \"power.t.test\"), linewidth = 1) +   geom_line(aes(y = power_simulation, color = \"Simulation\"), linewidth = 1, linetype = \"dashed\") +   geom_hline(yintercept = 0.8, linetype = \"dotted\", color = \"gray50\") +   geom_vline(xintercept = ceiling(power_result$n), linetype = \"dotted\", color = \"blue\", alpha = 0.5) +   geom_vline(xintercept = site_res$S_star, linetype = \"dotted\", color = \"red\", alpha = 0.5) +   labs(     title = \"Comparison: power.t.test vs Simulation-Based Power\",     subtitle = paste0(\"power.t.test: n=\", ceiling(power_result$n),                        \" | Simulation: n=\", site_res$S_star),     x = \"Number of Sites\",     y = \"Power\",     color = \"Method\"   ) +   scale_color_manual(values = c(\"power.t.test\" = \"blue\", \"Simulation\" = \"red\")) +   theme(legend.position = \"bottom\")"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"question-2-find-minimum-n_after","dir":"Articles","previous_headings":"","what":"(Question 2) Find minimum n_after","title":"User guide for power after change","text":"scenario, fixed number sites samples change, want know many samples change needed achieve target power.function res_n_after finds minimum number samples change needed achieve target power, given number sites samples change. power curve shows power increases samples change. dashed red line indicates target power (0.8), dashed blue line indicates minimum number samples needed achieve power. Now, repeat calculation using standard power.t.test function comparison. standard deviation difference means per site calculated .  matches result simulation function find_n_after.","code":"res_n_after <- find_n_after(S = S_demo, nB = nB_demo,                     delta = delta_target,                     sd_w = sd_within_hat, sd_d = sd_delta,                     target_power = 0.8, alpha = 0.05,                     n_grid = 1:40, nsim = 3000, seed = 99) res_n_after$n_star  #Number of after samples need for specified power ## [1] 6 head(res_n_after$curve) ##   n_after     power ## 1       1 0.3646667 ## 2       2 0.5600000 ## 3       3 0.6833333 ## 4       4 0.7100000 ## 5       5 0.7620000 ## 6       6 0.8070000 # Plot power curve for number of samples after ggplot(res_n_after$curve, aes(x = n_after, y = power)) +   geom_line() +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   geom_vline(xintercept = res_n_after$n_star, linetype = \"dashed\", color = \"blue\") +   labs(title = \"Power Curve for Before-After Design\",        x = \"Number of After Samples per Site\",        y = \"Power\") # Calculate power for a range of nA values nA_grid <- 1:40 power_values <- sapply(nA_grid, function(nA) {   power_for_nA_analytical(nA, S = S_demo, nB = nB_demo,                 delta = delta_target,                 sd_within = sd_within_hat,                 sd_delta = sd_delta,                 alpha = 0.05) }) # Create a data frame for plotting comparison_nA_df <- data.frame(   n_after = nA_grid,   power_analytical = power_values,   power_simulation = res_n_after$curve$power ) # Plot comparison ggplot(comparison_nA_df, aes(x = n_after)) +   geom_line(aes(y = power_analytical, color = \"power.t.test\"),             linetype = 1) +   geom_line(aes(y = power_simulation, color = \"Simulation\"),             linetype = 1, linetype = \"dashed\") +   geom_hline(yintercept = 0.8, linetype = \"dotted\", color = \"gray50\") +   geom_vline(xintercept = ceiling(res_n_after$n_star),              linetype = \"dotted\", color = \"red\", alpha = 0.5) +   labs(     title = \"Comparison: power.t.test vs Simulation-Based Power\",     subtitle = paste0(\"power.t.test: nA=\", ceiling(res_n_after$n_star     ), \" | Simulation: nA=\", res_n_after$n_star),     x = \"Number of After Samples per Site\",     y = \"Power\",     color = \"Method\"   ) +   scale_color_manual(values = c(\"power.t.test\" = \"blue\",                                 \"Simulation\" = \"red\")) +   theme(legend.position = \"bottom\") ## Warning: Duplicated aesthetics after name standardisation: ## linetype"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"question-3-minimum-detectable-percent-change","dir":"Articles","previous_headings":"","what":"(Question 3) Minimum detectable percent change","title":"User guide for power after change","text":"calculate minimum detectable percent change given simulated data planning assumptions , visualize varies number samples per site. Plot detectable percent change range nA values  Plot power vs. minimum detectable percent change range nA values","code":"# Minimum detectable percent change for the demo scenario min_detectable_pct <- find_min_detectable_percent(   S = S_demo,   nB = nB_demo,   nA = 5,   sd_within = sd_within_hat,   sd_delta = sd_delta,   logTransform = FALSE,   target_power = 0.8,   alpha = 0.05 )  min_detectable_pct ## [1] 103.9095 nA_grid <- 1:40 detectable_df <- data.frame(   n_after = nA_grid,   min_detectable_percent = sapply(nA_grid, function(nA) {     find_min_detectable_percent(       S = S_demo,       nB = nB_demo,       nA = nA,       sd_within = sd_within_hat,       sd_delta = sd_delta,       logTransform = FALSE,       target_power = 0.8,       alpha = 0.05     )   }) )  ggplot(detectable_df, aes(x = n_after, y = min_detectable_percent)) +   geom_line() +   geom_hline(yintercept = min_detectable_pct, linetype = \"dashed\", color = \"red\") +   labs(     title = \"Minimum Detectable Percent Change vs. After Samples\",     x = \"Number of After Samples per Site\",     y = \"Minimum Detectable Percent Change\"   ) inputGrid<-expand.grid(nA = 1:40, percent_change = seq(5,30,5)) inputGrid$power <- mapply(function(nA, pct) {   power_for_percent_change(     S = S_demo,     nB = nB_demo,     nA = nA,     sd_within = sd_within_hat,     sd_delta = sd_delta,     baseline_mean = before_mean,     logTransform = FALSE,     percent_change = pct,     alpha = 0.05   )}, inputGrid$nA, inputGrid$percent_change) ggplot(inputGrid, aes(x = nA, y = power, color = factor(percent_change))) +   geom_line() +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"black\") +   labs(     title = \"Power vs. Sample Sizes for Different Percent Changes\",     color = \"Percent Change\",     y = \"Power\",     x = \"After Samples (nA)\"   )"},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"conclusion-on-paired-t-test","dir":"Articles","previous_headings":"","what":"Conclusion on paired t-test","title":"User guide for power after change","text":"simulation-based functions produce results align closely analytical solutions power.t.test standard deviation difference calculated correctly. validates simulation approach power sample size calculations -designs fixed sites repeated samples per site. can now add biological realism using functions normal simulation, adding complex designs.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/articles/UserGuide.html","id":"question-4-wilcoxon-test-nonparametric-using-the-same-simulated-data","dir":"Articles","previous_headings":"","what":"(Question 4) Wilcoxon test (nonparametric) using the same simulated data","title":"User guide for power after change","text":"repeat three planning questions using Wilcoxon signed-rank test instead paired t-test. calculations use simulation (useTest = \"wilcoxon\").","code":"# (a) Minimum sites with Wilcoxon test site_res_wilcox <- find_min_sites(   nB = nB_demo, nA = 5,   delta = delta_target,   sd_w = sd_within_hat, sd_d = sd_delta,   target_power = 0.8, alpha = 0.05,   S_grid = 2:40, nsim = 3000, seed = 42,   useTest = \"wilcoxon\" )  site_res_wilcox$S_star ## [1] 13 ggplot(site_res_wilcox$curve, aes(x = S, y = power)) +   geom_line() +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   geom_vline(xintercept = site_res_wilcox$S_star, linetype = \"dashed\", color = \"blue\") +   labs(     title = \"Wilcoxon Power Curve for Number of Sites\",     x = \"Number of Sites\",     y = \"Power\"   ) # (b) Minimum n_after with Wilcoxon test res_n_after_wilcox <- find_n_after(   S = S_demo, nB = nB_demo,   delta = delta_target,   sd_w = sd_within_hat, sd_d = sd_delta,   target_power = 0.8, alpha = 0.05,   n_grid = 1:40, nsim = 3000, seed = 99,   useTest = \"wilcoxon\" )  res_n_after_wilcox$n_star ## [1] 9 ggplot(res_n_after_wilcox$curve, aes(x = n_after, y = power)) +   geom_line() +   geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +   geom_vline(xintercept = res_n_after_wilcox$n_star, linetype = \"dashed\", color = \"blue\") +   labs(     title = \"Wilcoxon Power Curve for After Samples\",     x = \"Number of After Samples per Site\",     y = \"Power\"   )"},{"path":"https://ebabcock.github.io/PowerAfterChange/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Elizabeth Babcock. Author, maintainer.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Babcock E (2026). PowerAfterChange: Calculations power detect change ecological data. R package version 0.1.0, https://ebabcock.github.io/PowerAfterChange/.","code":"@Manual{,   title = {PowerAfterChange: Calculations of power to detect a change in ecological data},   author = {Elizabeth A Babcock},   year = {2026},   note = {R package version 0.1.0},   url = {https://ebabcock.github.io/PowerAfterChange/}, }"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_detectable_percent.html","id":null,"dir":"Reference","previous_headings":"","what":"find_min_detectable_percent — find_min_detectable_percent","title":"find_min_detectable_percent — find_min_detectable_percent","text":"Calculates smallest percentage change detectable given sample size.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_detectable_percent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"find_min_detectable_percent — find_min_detectable_percent","text":"","code":"find_min_detectable_percent(   S,   nB,   nA,   sd_within = NA,   sd_delta = 0,   logTransform = FALSE,   logAdd = 0,   baseline_mean = NULL,   target_power = 0.8,   alpha = 0.05 )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_detectable_percent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"find_min_detectable_percent — find_min_detectable_percent","text":"S Number sites nB Number measurements per site nA Number measurements per site sd_within Within-site standard deviation (log calculated logTransform=TRUE) sd_delta -site SD true changes (default 0) logTransform Logical indicating whether calculate detectable change log scale (default FALSE) logAdd Value add response variable log-transforming avoid issues baseline_mean Mean original response variable change. Required logTransform=TRUE convert percent change back original scale. target_power Desired power (default 0.8) alpha Significance level (default 0.05)","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_detectable_percent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"find_min_detectable_percent — find_min_detectable_percent","text":"minimum detectable percentage change (e.g., 30 30% change)","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites.html","id":null,"dir":"Reference","previous_headings":"","what":"find_min_sites — find_min_sites","title":"find_min_sites — find_min_sites","text":"Function find minimum number sites needed achieve target power paired t test means across observations sites changepoint.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"find_min_sites — find_min_sites","text":"","code":"find_min_sites(   nB,   nA,   delta,   sd_w,   sd_d = 0,   target_power = 0.8,   alpha = 0.05,   S_grid = 2:50,   nsim = 2000,   seed = 1,   distribution = c(\"normal\", \"nbinom\", \"binomial\"),   useTest = c(\"paired-t\", \"wilcoxon\", \"prop.test\"),   nbinom_mu = NULL,   nbinom_disp = NULL,   binomial_size = NULL,   binomial_prob = NULL )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"find_min_sites — find_min_sites","text":"nB Number measurements per site nA Number measurements per site delta Hypothesized mean change sd_w Within-site standard deviation sd_d -site standard deviation true changes target_power Desired power level achieve alpha Significance level, defaults 0.05 S_grid Grid site numbers evaluate nsim Number simulations run seed Random seed reproducibility distribution Distribution simulated data. One \"normal\", \"nbinom\", \"binomial\". useTest test use. One \"paired-t\", \"wilcoxon\", \"prop.test\". nbinom_mu Mean parameter negative binomial (mu) nbinom_disp Dispersion (size) parameter negative binomial binomial_size Size parameter (trials) binomial binomial_prob Probability parameter binomial","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"find_min_sites — find_min_sites","text":"list containing minimum number sites needed achieve target power data frame power curve","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites_analytical.html","id":null,"dir":"Reference","previous_headings":"","what":"find_min_sites_analytical — find_min_sites_analytical","title":"find_min_sites_analytical — find_min_sites_analytical","text":"Function use power.t.test calculate power paired t-test means across","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites_analytical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"find_min_sites_analytical — find_min_sites_analytical","text":"","code":"find_min_sites_analytical(S_grid, delta_target, sd_diff)"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites_analytical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"find_min_sites_analytical — find_min_sites_analytical","text":"S_grid Number sites grid delta_target Target mean change sd_diff Standard deviation difference means","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_min_sites_analytical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"find_min_sites_analytical — find_min_sites_analytical","text":"Power number sites S_grid","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_n_after.html","id":null,"dir":"Reference","previous_headings":"","what":"find_n_after — find_n_after","title":"find_n_after — find_n_after","text":"Function find minimum number measurements needed achieve target power, paired t-test means.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_n_after.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"find_n_after — find_n_after","text":"","code":"find_n_after(   S,   nB,   delta,   sd_w,   sd_d = 0,   target_power = 0.8,   alpha = 0.05,   n_grid = 1:50,   nsim = 2000,   seed = 1,   distribution = c(\"normal\", \"nbinom\", \"binomial\"),   useTest = c(\"paired-t\", \"wilcoxon\", \"prop.test\"),   nbinom_mu = NULL,   nbinom_disp = NULL,   binomial_size = NULL,   binomial_prob = NULL )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_n_after.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"find_n_after — find_n_after","text":"S Number sites nB Number measurements per site delta Hypothesized mean change sd_w Within-site standard deviation sd_d -site standard deviation true changes target_power Desired power level achieve alpha Significance level, defaults 0.05 n_grid Grid measurements evaluate nsim Number simulations run seed Random seed reproducibility distribution Distribution simulated data. One \"normal\", \"nbinom\", \"binomial\". useTest test use. One \"paired-t\", \"wilcoxon\", \"prop.test\". nbinom_mu Mean parameter negative binomial (mu) nbinom_disp Dispersion (size) parameter negative binomial binomial_size Size parameter (trials) binomial binomial_prob Probability parameter binomial","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/find_n_after.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"find_n_after — find_n_after","text":"list containing minimum number measurements needed achieve target power data frame power curve","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_difference.html","id":null,"dir":"Reference","previous_headings":"","what":"getSD_difference — getSD_difference","title":"getSD_difference — getSD_difference","text":"Estimate standard deviation difference means change paired t-test difference means.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_difference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"getSD_difference — getSD_difference","text":"","code":"getSD_difference(sd_within, nA, nB, sd_delta)"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_difference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"getSD_difference — getSD_difference","text":"sd_within standard deviation within sites nA number samples per site nB number samples per site sd_delta standard deviation true changes among sites","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_difference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"getSD_difference — getSD_difference","text":"Standard deviation difference means","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_within.html","id":null,"dir":"Reference","previous_headings":"","what":"getSD_within — getSD_within","title":"getSD_within — getSD_within","text":"Estimate within-site standard deviation baseline data.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_within.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"getSD_within — getSD_within","text":"","code":"getSD_within(baseline, siteVar = \"site\", responseVar = \"y\")"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_within.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"getSD_within — getSD_within","text":"baseline Data frame containing baseline measurements siteVar Name site variable baseline data responseVar Name response variable baseline data","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/getSD_within.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"getSD_within — getSD_within","text":"Estimated within-site standard deviation","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA.html","id":null,"dir":"Reference","previous_headings":"","what":"power_for_nA Function to calculate power for given number of after samples for a paire t-test of the difference in means before vs. after change using power.t.test — power_for_nA","title":"power_for_nA Function to calculate power for given number of after samples for a paire t-test of the difference in means before vs. after change using power.t.test — power_for_nA","text":"Function calculate power given number samples paired t-test difference means vs. change using power.t.test","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"power_for_nA Function to calculate power for given number of after samples for a paire t-test of the difference in means before vs. after change using power.t.test — power_for_nA","text":"","code":"power_for_nA(   nA,   S,   nB,   delta,   sd_within,   sd_delta,   alpha,   distribution = c(\"normal\", \"nbinom\", \"binomial\"),   useTest = c(\"paired-t\", \"wilcoxon\", \"prop.test\") )  power_for_nA(   nA,   S,   nB,   delta,   sd_within,   sd_delta,   alpha,   distribution = c(\"normal\", \"nbinom\", \"binomial\"),   useTest = c(\"paired-t\", \"wilcoxon\", \"prop.test\") )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"power_for_nA Function to calculate power for given number of after samples for a paire t-test of the difference in means before vs. after change using power.t.test — power_for_nA","text":"nA Number samples per site S Number sites nB Number samples per site delta Hypothesized mean change sd_within Standard deviation within sites sd_delta Standard deviation true changes among sites alpha Significance level distribution Distribution simulated data. Must \"normal\" . useTest test use. Must \"paired-t\" .","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"power_for_nA Function to calculate power for given number of after samples for a paire t-test of the difference in means before vs. after change using power.t.test — power_for_nA","text":"Power given number sample Power given number sample","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA_analytical.html","id":null,"dir":"Reference","previous_headings":"","what":"power_for_nA — power_for_nA_analytical","title":"power_for_nA — power_for_nA_analytical","text":"Function calculate power given number samples paired t-test difference means vs. change using power.t.test","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA_analytical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"power_for_nA — power_for_nA_analytical","text":"","code":"power_for_nA_analytical(nA, S, nB, delta, sd_within, sd_delta, alpha)"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA_analytical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"power_for_nA — power_for_nA_analytical","text":"nA Number samples per site S Number sites nB Number samples per site delta Hypothesized mean change sd_within Standard deviation within sites sd_delta Standard deviation true changes among sites alpha Significance level","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_nA_analytical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"power_for_nA — power_for_nA_analytical","text":"Power given number sample","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_n_after.html","id":null,"dir":"Reference","previous_headings":"","what":"power_for_n_after — power_for_n_after","title":"power_for_n_after — power_for_n_after","text":"Estimate power paired t-test average given number measurements fixed number sites changepoint.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_n_after.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"power_for_n_after — power_for_n_after","text":"","code":"power_for_n_after(   S,   nB,   nA,   delta,   sd_w,   sd_d = 0,   alpha = 0.05,   nsim = 2000,   seed = 1,   distribution = c(\"normal\", \"nbinom\", \"binomial\"),   useTest = c(\"paired-t\", \"wilcoxon\", \"prop.test\"),   nbinom_mu = NULL,   nbinom_disp = NULL,   binomial_size = NULL,   binomial_prob = NULL )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_n_after.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"power_for_n_after — power_for_n_after","text":"S Number sites nB Number measurements per site nA Number measurements per site delta Hypothesized mean change sd_w Within-site standard deviation sd_d -site standard deviation true changes alpha Significance level, defaults 0.05 nsim Number simulations run seed Random seed reproducibility distribution Distribution simulated data. One \"normal\", \"nbinom\", \"binomial\". useTest test use. One \"paired-t\", \"wilcoxon\", \"prop.test\". nbinom_mu Mean parameter negative binomial (mu) nbinom_disp Dispersion (size) parameter negative binomial binomial_size Size parameter (trials) binomial binomial_prob Probability parameter binomial","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_n_after.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"power_for_n_after — power_for_n_after","text":"Estimated power given number measurements","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_percent_change.html","id":null,"dir":"Reference","previous_headings":"","what":"power_for_percent_change — power_for_percent_change","title":"power_for_percent_change — power_for_percent_change","text":"Function calculate power given percent change mean vs. change using power.t.test (paired t-test site-level differences).","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_percent_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"power_for_percent_change — power_for_percent_change","text":"","code":"power_for_percent_change(   percent_change,   baseline_mean = NULL,   nA,   S,   nB,   sd_within,   sd_delta,   alpha,   logTransform = FALSE,   logAdd = 0 )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_percent_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"power_for_percent_change — power_for_percent_change","text":"percent_change Target percent change original response variable baseline_mean Mean original response variable change nA Number samples per site S Number sites nB Number samples per site sd_within Standard deviation within sites (log calculated logTransform=TRUE) sd_delta Standard deviation true changes among sites alpha Significance level logTransform Logical indicating whether work log(y + logAdd) scale (default FALSE) logAdd Value add response variable log-transforming avoid issues","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_percent_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"power_for_percent_change — power_for_percent_change","text":"Power given percent change","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_sites.html","id":null,"dir":"Reference","previous_headings":"","what":"power_for_sites — power_for_sites","title":"power_for_sites — power_for_sites","text":"Function estimate power paired t-test average given number sites changepoint.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_sites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"power_for_sites — power_for_sites","text":"","code":"power_for_sites(   S,   nB,   nA,   delta,   sd_w,   sd_d = 0,   alpha = 0.05,   nsim = 2000,   seed = 1,   distribution = c(\"normal\", \"nbinom\", \"binomial\"),   useTest = c(\"paired-t\", \"wilcoxon\", \"prop.test\"),   nbinom_mu = NULL,   nbinom_disp = NULL,   binomial_size = NULL,   binomial_prob = NULL )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_sites.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"power_for_sites — power_for_sites","text":"S Number sites nB Number measurements per site nA Number measurements per site delta Hypothesized mean change sd_w Within-site standard deviation sd_d -site standard deviation true changes alpha Significance level, defaults 0.05 nsim Number simulations run seed Random seed reproducibility distribution Distribution simulated data. One \"normal\", \"nbinom\", \"binomial\". useTest test use. One \"paired-t\", \"wilcoxon\", \"prop.test\". nbinom_mu Mean parameter negative binomial (mu) nbinom_disp Dispersion (size) parameter negative binomial binomial_size Size parameter (trials) binomial binomial_prob Probability parameter binomial","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/power_for_sites.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"power_for_sites — power_for_sites","text":"Estimated power given number sites","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/summarize_baseline.html","id":null,"dir":"Reference","previous_headings":"","what":"summarize_baseline — summarize_baseline","title":"summarize_baseline — summarize_baseline","text":"Summarize baseline data estimate within-site -site standard deviations, optionally log-transform response variable estimate log scale.","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/summarize_baseline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"summarize_baseline — summarize_baseline","text":"","code":"summarize_baseline(   baseline,   siteVar = \"site\",   responseVar = \"y\",   logTransform = FALSE,   logAdd = 0 )"},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/summarize_baseline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"summarize_baseline — summarize_baseline","text":"baseline Data frame containing baseline measurements siteVar Name site variable baseline data responseVar Name response variable baseline data logTransform Logical indicating whether log-transform response variable estimating standard deviations log scale logAdd Value add response variable log-transforming avoid issues zeros (default 0)","code":""},{"path":"https://ebabcock.github.io/PowerAfterChange/reference/summarize_baseline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"summarize_baseline — summarize_baseline","text":"data frame containing estimated within-site -site standard deviations, number sites samples per site","code":""}]
